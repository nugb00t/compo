#include "stdafx.h"

#include "video_assets_d3d9.h"

#include "filesystem/resources.h"

using namespace engine;

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void VideoAssetsD3D9::reset() {
	while (textureCount_--)
		textures_[textureCount_].texture->Release();

	pool_.reset();
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

const uint VideoAssetsD3D9::addTexture(const TCHAR* const path) {
	assert(textureCount_ < MAX_TEXTURES);

	textures_[textureCount_].path = path;
	textures_[textureCount_].resource = Resources::inst().add(path, pool_);
	textures_[textureCount_].texture = NULL;

	return textureCount_++;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void VideoAssetsD3D9::update() {
	//for (uint i = 0; i < textureCount_; ++i)
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

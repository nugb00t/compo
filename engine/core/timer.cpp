#include "stdafx.h"

#include "timer.h"

#pragma comment(lib, "winmm.lib")		// timer stuff

using namespace engine;

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

Timer::Timer() : zero_(::timeGetTime()) {
	CHECKED_GENERIC_CALL(::timeBeginPeriod(1), TIMERR_NOERROR);	// system timer resolution
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

const unsigned long Timer::msec() const {
	return ::timeGetTime() - zero_;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

const float Timer::now() const {
	return (float)(::timeGetTime() - zero_) / 1000.f;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include "stdafx.h"

#include "engine.h"
#include "core/profiler.h"

using namespace engine;

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

kaynine::Event& Video::quit() { 
	return g_engine.sync->quit; 
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

bool Video::initialize() {
	return g_engine.videoImpl->initialize();
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

bool Video::update() {
	Profiler::StopWatch stopWatch(Profiler::VIDEO);

	g_engine.videoImpl->clear();

	if (g_engine.videoImpl->begin()) {
		doUpdate();
		g_engine.videoImpl->end();
	}
	
	g_engine.videoImpl->present();

    return true;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void Video::terminate() {
	g_engine.videoImpl->terminate();
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

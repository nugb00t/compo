#include "stdafx.h"

#include "intrusive_ptr_base.h"

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void engine::intrusive_ptr_add_ref(IntrusivePtrBase* ptr) {
	++ptr->refs_;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void engine::intrusive_ptr_release(IntrusivePtrBase* ptr) {
	if (!--ptr->refs_ && ptr->autoDelete_) {
		delete ptr;
	}
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
